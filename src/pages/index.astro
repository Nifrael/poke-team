---
import Layout from "../layouts/Layout.astro";
import { getPokemon } from "../services/pokemonFetch";

const pokemonsData = await getPokemon();

console.log(pokemonsData);
---

<Layout>
  <div class="container">
    <section
      class="w-[70%] mx-auto py-10 px-10 grid grid-cols-2 items-center justify-items-center"
    >
      <h1 class="w-110 text-cyan-700">
        Rien n'est plus fort que le lien qui unit un Pokémon à son dresseur.
      </h1>
      <img
        src="/src/assets/images/pokeball.jpg"
        alt="Pokeball"
        class="w-100 rounded-4xl"
      />
    </section>
    <div class="py-10">
      {pokemonsData.map((pokemon) =>
      <div class="my-10 mx-auto w-[50%] border-amber-600 border-4 grid grid-cols-2 grid-rows-3">
        <h2 class="">{pokemon.name}</h2>
        <img class="row-span-3 col-span-1" src={pokemon.image} alt={pokemon.name} />
          <div class="col-span-2">{pokemon.types.map((type: { name: string; image: string }) =>
          <h3>{type.name}</h3>
          <img src={type.image} alt="" />
          )}</div>
      </div>
      )}
    </div>
  </div>
</Layout>
